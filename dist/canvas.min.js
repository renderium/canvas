!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.Canvas=e()}(this,function(){"use strict";function t(){}var e,i,s=window.devicePixelRatio||1,h=[];return class{static digest(t){for(i=i||t;e=h.shift();)e.scale(),e.clear(),e.redraw(e,i-t,t),e.dequeue();i=t}constructor(e){this.el=e.el,this.canvas=document.createElement("canvas"),this.ctx=this.canvas.getContext("2d"),this.renderer=t,this.inQueue=!1,this.width=0,this.height=0,this.el.appendChild(this.canvas),this.scale()}render(t){this.renderer=t}enqueue(){this.inQueue||(h.push(this),this.inQueue=!0)}dequeue(){this.inQueue=!1}clear(){this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}scale(){var t=this.el.clientWidth,e=this.el.clientHeight;t===this.width&&e===this.height||(this.width=t,this.height=e,this.canvas.style.width=`${this.width}px`,this.canvas.style.height=`${this.height}px`,this.canvas.width=this.width*s,this.canvas.height=this.height*s,this.ctx.scale(s,s),this.ctx.translate(.5,.5))}redraw(t,e,i){this.renderer(t,e,i)}arc(t){var e=t.x,i=t.y,s=t.radius,h=t.theta,a=t.length,n=t.stroke,c=t.width||1,r=t.opacity||1,d=this.ctx;d.save(),d.translate(e,i),d.rotate(h),d.lineWidth=c,d.strokeStyle=n,d.globalAlpha=r,d.beginPath(),d.arc(0,0,s,0,a),d.stroke(),d.restore()}circle(t){}image(t){}polygon(t){}polyline(t){}rect(t){}text(t){}group(t){}}});
